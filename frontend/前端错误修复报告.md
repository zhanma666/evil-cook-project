# å‰ç«¯é”™è¯¯ä¿®å¤æŠ¥å‘Š

## 1. é—®é¢˜æè¿°

åœ¨è®¿é—®èœè°±è¯¦æƒ…é¡µé¢æ—¶ï¼Œå‰ç«¯å‡ºç°ä»¥ä¸‹è¿è¡Œæ—¶é”™è¯¯ï¼š

```
Uncaught runtime errors:
Ã—
ERROR
Cannot read properties of undefined (reading 'avatar')
TypeError: Cannot read properties of undefined (reading 'avatar')
    at RecipeDetail (webpack://evil-cook-frontend/./src/pages/RecipeDetail.js?:141:20)
```

## 2. é—®é¢˜åˆ†æ

é€šè¿‡åˆ†æä»£ç å‘ç°ï¼Œé”™è¯¯å‘ç”Ÿåœ¨ [RecipeDetail.js](file:///a:/s/sai/er/j/evil-cook-project/frontend/src/pages/RecipeDetail.js) æ–‡ä»¶çš„ç¬¬141è¡Œï¼Œè¯¥è¡Œä»£ç è¯•å›¾è®¿é—® `recipe.author.avatar` å±æ€§ã€‚ç„¶è€Œï¼Œä»åç«¯APIè¿”å›çš„æ•°æ®ç»“æ„ä¸­ï¼Œä½œè€…ä¿¡æ¯å¹¶ä¸æ˜¯ä»¥åµŒå¥—å¯¹è±¡çš„å½¢å¼å­˜åœ¨ï¼Œè€Œæ˜¯ä»¥æ‰å¹³åŒ–çš„å­—æ®µå½¢å¼å­˜å‚¨ï¼Œä¾‹å¦‚ï¼š

- `author.id` å­˜å‚¨ä¸º `author_id`
- `author.username` å­˜å‚¨ä¸º `author_username`
- `author.level` å­˜å‚¨ä¸º `author_level`
- `author.avatar` å­˜å‚¨ä¸º `author_avatar`

å› æ­¤ï¼Œå½“ä»£ç å°è¯•è®¿é—® `recipe.author.avatar` æ—¶ï¼Œç”±äº `recipe.author` å¯¹è±¡ä¸å­˜åœ¨ï¼Œå¯¼è‡´å‡ºç° "Cannot read properties of undefined" é”™è¯¯ã€‚

## 3. è§£å†³æ–¹æ¡ˆ

ä¿®æ”¹ [RecipeDetail.js](file:///a:/s/sai/er/j/evil-cook-project/frontend/src/pages/RecipeDetail.js) æ–‡ä»¶ä¸­çš„å±æ€§è®¿é—®æ–¹å¼ï¼Œä½¿ç”¨åç«¯å®é™…è¿”å›çš„æ‰å¹³åŒ–å­—æ®µåï¼š

```javascript
// é”™è¯¯çš„è®¿é—®æ–¹å¼
{recipe.author.avatar ? (
  <img src={recipe.author.avatar} alt={recipe.author.username} />
) : (
  <div className="avatar-placeholder">ğŸ‘¤</div>
)}

// æ­£ç¡®çš„è®¿é—®æ–¹å¼
{recipe['author.avatar'] ? (
  <img src={recipe['author.avatar']} alt={recipe['author.username']} />
) : (
  <div className="avatar-placeholder">ğŸ‘¤</div>
)}
```

åŒæ—¶ï¼Œå¯¹æ‰€æœ‰ç›¸å…³çš„åµŒå¥—å±æ€§è®¿é—®éƒ½è¿›è¡Œäº†ä¿®æ”¹ï¼ŒåŒ…æ‹¬ï¼š
- ä½œè€…ç”¨æˆ·åï¼šä» `recipe.author.username` æ”¹ä¸º `recipe['author.username']`
- ä½œè€…ç­‰çº§ï¼šä» `recipe.author.level` æ”¹ä¸º `recipe['author.level']`
- å…¶ä»–å…ƒæ•°æ®å­—æ®µä¹Ÿéƒ½ç›¸åº”ä¿®æ”¹

## 4. éªŒè¯ä¿®å¤

1. é‡å¯å‰ç«¯å¼€å‘æœåŠ¡å™¨
2. è®¿é—®é¦–é¡µç¡®è®¤åº”ç”¨æ­£å¸¸å¯åŠ¨
3. ç‚¹å‡»èœè°±è¿›å…¥è¯¦æƒ…é¡µé¢ï¼ŒéªŒè¯ä¸å†å‡ºç°é”™è¯¯

## 5. æ€»ç»“

è¯¥é”™è¯¯æ˜¯ç”±äºå‰ç«¯ä»£ç ä¸åç«¯APIè¿”å›çš„æ•°æ®ç»“æ„ä¸åŒ¹é…å¯¼è‡´çš„ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿å‰åç«¯æ•°æ®ç»“æ„çš„ä¸€è‡´æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†åµŒå¥—å¯¹è±¡æ—¶ï¼Œè¦æ˜ç¡®å­—æ®µçš„å­˜å‚¨æ–¹å¼ã€‚

ä¸ºäº†é¿å…ç±»ä¼¼é—®é¢˜å†æ¬¡å‘ç”Ÿï¼Œå»ºè®®ï¼š
1. åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ£€æŸ¥APIè¿”å›çš„å®é™…æ•°æ®ç»“æ„
2. å»ºç«‹å‰åç«¯æ•°æ®ç»“æ„çš„æ–‡æ¡£è§„èŒƒ
3. åœ¨è®¿é—®å¯¹è±¡å±æ€§å‰ï¼Œæ·»åŠ å¿…è¦çš„æ£€æŸ¥ä»¥é˜²æ­¢è¿è¡Œæ—¶é”™è¯¯